<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoWatch - Live Crypto Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            min-height: 100vh;
        }

        /* Splash Screen */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeOut 3s ease-in-out forwards;
        }

        .splash-logo {
            font-size: 4rem;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes fadeOut {
            0% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; visibility: hidden; }
        }

        /* Navigation */
        .navbar {
            background: rgba(20, 20, 20, 0.95);
            padding: 1rem 2rem;
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: center;
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .navbar-left {
            display: flex;
            align-items: center;
            justify-self: start;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #fff;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
            justify-self: center;
        }

        .navbar-right {
            display: flex;
            align-items: center;
            justify-self: end;
        }

        .nav-btn {
            background: #2d2d2d;
            border: 2px solid #404040;
            color: white;
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            margin: 0 0.3rem;
            font-weight: 500;
        }

        .nav-btn:hover {
            background: #404040;
            border-color: #555;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .nav-btn.active {
            background: #1a1a1a;
            border-color: #666;
        }

        .search-container {
            position: relative;
        }

        .search-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            width: 250px;
            outline: none;
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .page-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 2rem;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        /* Crypto Table */
        .crypto-table {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            overflow: hidden;
            backdrop-filter: blur(10px);
            margin-top: 1rem;
        }

        .table-header {
            background: rgba(20, 20, 20, 0.8);
            display: grid;
            grid-template-columns: 1fr 2fr 1fr 1fr 1fr 1fr;
            gap: 1rem;
            padding: 1rem;
            font-weight: bold;
        }

        .crypto-row {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr 1fr 1fr 1fr;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .crypto-row:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .crypto-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .crypto-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
        }

        .price-positive {
            color: #4ade80;
        }

        .price-negative {
            color: #ef4444;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            font-size: 1.2rem;
        }

        .error {
            text-align: center;
            padding: 2rem;
            color: #ef4444;
            font-size: 1.2rem;
        }

        /* Wishlist */
        .wishlist-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .remove-btn {
            background: #ef4444;
            border: none;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .remove-btn:hover {
            background: #dc2626;
            transform: scale(1.05);
        }

        .add-to-wishlist {
            background: #4ade80;
            border: none;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.8rem;
        }

        .add-to-wishlist:hover {
            background: #22c55e;
            transform: scale(1.05);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 1rem;
            }

            .navbar-left,
            .navbar-right {
                width: 100%;
                justify-content: center;
            }

            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
                order: 2;
            }

            .navbar-left {
                order: 1;
            }

            .navbar-right {
                order: 3;
            }

            .search-input {
                width: 200px;
            }

            .table-header,
            .crypto-row {
                grid-template-columns: 1fr 1fr 1fr;
                font-size: 0.9rem;
            }

            .splash-logo {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div class="splash-screen">
        <div class="splash-logo">CRYPTOWATCH</div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="navbar-left">
            <div class="logo">CryptoWatch</div>
        </div>
        <div class="nav-links">
            <button class="nav-btn active" onclick="showPage('home')">Home</button>
            <button class="nav-btn" onclick="showPage('trending')">Trending</button>
            <button class="nav-btn" onclick="showPage('wishlist')">Wishlist</button>
            <button class="nav-btn" onclick="showPage('about')">About</button>
        </div>
        <div class="navbar-right">
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search cryptocurrencies..." onkeyup="searchCrypto(event)">
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Home Page -->
        <div class="page active" id="home">
            <h1 class="page-title">Top Cryptocurrencies</h1>
            <div id="crypto-list" class="crypto-table">
                <div class="loading">Loading cryptocurrency data...</div>
            </div>
        </div>

        <!-- Trending Page -->
        <div class="page" id="trending">
            <h1 class="page-title">Trending Cryptocurrencies</h1>
            <div id="trending-list" class="crypto-table">
                <div class="loading">Loading trending data...</div>
            </div>
        </div>

        <!-- Wishlist Page -->
        <div class="page" id="wishlist">
            <h1 class="page-title">My Wishlist</h1>
            <div id="wishlist-content">
                <p style="text-align: center; padding: 2rem;">Your wishlist is empty. Add some cryptocurrencies from the home page!</p>
            </div>
        </div>

        <!-- About Page -->
        <div class="page" id="about">
            <h1 class="page-title">About CryptoWatch</h1>
            <div style="background: rgba(255, 255, 255, 0.1); padding: 2rem; border-radius: 15px; backdrop-filter: blur(10px);">
                <h3>Welcome to CryptoWatch</h3>
                <p style="margin: 1rem 0;">CryptoWatch is your ultimate destination for real-time cryptocurrency tracking and analysis. We provide up-to-date prices, market caps, and trending information for all major cryptocurrencies.</p>
                
                <h3>Features:</h3>
                <ul style="margin: 1rem 0; padding-left: 2rem;">
                    <li>Real-time cryptocurrency prices</li>
                    <li>Market cap and volume data</li>
                    <li>24-hour price changes</li>
                    <li>Search functionality</li>
                    <li>Personal wishlist</li>
                    <li>Trending cryptocurrencies</li>
                </ul>

                <h3>Data Source:</h3>
                <p style="margin: 1rem 0;">All cryptocurrency data is provided by CoinGecko API, ensuring accurate and reliable information.</p>
            </div>
        </div>
    </div>

    <script>
        let allCryptos = [];
        let wishlist = JSON.parse(localStorage.getItem('cryptoWishlist')) || [];

        // Show specific page
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(pageName).classList.add('active');
            event.target.classList.add('active');
            
            if (pageName === 'wishlist') {
                loadWishlist();
            } else if (pageName === 'trending') {
                loadTrendingData();
            }
        }

        // Format price
        function formatPrice(price) {
            if (price < 1) {
                return `$${price.toFixed(6)}`;
            } else if (price < 100) {
                return `$${price.toFixed(4)}`;
            } else {
                return `$${price.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            }
        }

        // Format market cap
        function formatMarketCap(marketCap) {
            if (marketCap >= 1e12) {
                return `$${(marketCap / 1e12).toFixed(2)}T`;
            } else if (marketCap >= 1e9) {
                return `$${(marketCap / 1e9).toFixed(2)}B`;
            } else if (marketCap >= 1e6) {
                return `$${(marketCap / 1e6).toFixed(2)}M`;
            } else {
                return `$${marketCap.toLocaleString()}`;
            }
        }

        // Create crypto row
        function createCryptoRow(crypto, showAddButton = true) {
            const changeClass = crypto.price_change_percentage_24h >= 0 ? 'price-positive' : 'price-negative';
            const changeSymbol = crypto.price_change_percentage_24h >= 0 ? '+' : '';
            
            return `
                <div class="crypto-row" onclick="showCryptoDetails('${crypto.id}')">
                    <div>${crypto.market_cap_rank || 'N/A'}</div>
                    <div class="crypto-info">
                        <img src="${crypto.image}" alt="${crypto.name}" class="crypto-icon" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTYiIGZpbGw9IiMzMzMiLz4KPHRleHQgeD0iMTYiIHk9IjIwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEyIiBmaWxsPSJ3aGl0ZSI+Pz88L3RleHQ+Cjwvc3ZnPgo='">
                        <div>
                            <div style="font-weight: bold;">${crypto.name}</div>
                            <div style="font-size: 0.8rem; opacity: 0.7;">${crypto.symbol.toUpperCase()}</div>
                        </div>
                    </div>
                    <div>${formatPrice(crypto.current_price)}</div>
                    <div class="${changeClass}">${changeSymbol}${crypto.price_change_percentage_24h?.toFixed(2) || '0.00'}%</div>
                    <div>${formatMarketCap(crypto.market_cap)}</div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        ${formatMarketCap(crypto.total_volume)}
                        ${showAddButton ? `<button class="add-to-wishlist" onclick="event.stopPropagation(); addToWishlist('${crypto.id}', '${crypto.name}', '${crypto.symbol}', '${crypto.image}', ${crypto.current_price})" ${wishlist.some(item => item.id === crypto.id) ? 'disabled style="background: #6b7280;"' : ''}>
                            ${wishlist.some(item => item.id === crypto.id) ? 'Added' : 'Add'}
                        </button>` : ''}
                    </div>
                </div>
            `;
        }

        // Load cryptocurrency data
        async function loadCryptoData() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=50&page=1&sparkline=false&price_change_percentage=24h');
                const data = await response.json();
                
                allCryptos = data;
                displayCryptoData(data);
            } catch (error) {
                document.getElementById('crypto-list').innerHTML = '<div class="error">Error loading cryptocurrency data. Please try again later.</div>';
                console.error('Error fetching crypto data:', error);
            }
        }

        // Display crypto data
        function displayCryptoData(cryptos) {
            const cryptoList = document.getElementById('crypto-list');
            
            let html = `
                <div class="table-header">
                    <div>Rank</div>
                    <div>Name</div>
                    <div>Price</div>
                    <div>24h Change</div>
                    <div>Market Cap</div>
                    <div>Volume</div>
                </div>
            `;
            
            cryptos.forEach(crypto => {
                html += createCryptoRow(crypto);
            });
            
            cryptoList.innerHTML = html;
        }

        // Search cryptocurrency
        function searchCrypto(event) {
            const searchTerm = event.target.value.toLowerCase();
            
            if (searchTerm === '') {
                displayCryptoData(allCryptos);
                return;
            }
            
            const filteredCryptos = allCryptos.filter(crypto => 
                crypto.name.toLowerCase().includes(searchTerm) || 
                crypto.symbol.toLowerCase().includes(searchTerm)
            );
            
            displayCryptoData(filteredCryptos);
        }

        // Add to wishlist
        function addToWishlist(id, name, symbol, image, price) {
            const item = { id, name, symbol, image, price, addedAt: new Date().toISOString() };
            
            if (!wishlist.some(existing => existing.id === id)) {
                wishlist.push(item);
                localStorage.setItem('cryptoWishlist', JSON.stringify(wishlist));
                
                // Update button
                const button = event.target;
                button.textContent = 'Added';
                button.disabled = true;
                button.style.background = '#6b7280';
                
                alert(`${name} added to wishlist!`);
            }
        }

        // Remove from wishlist
        function removeFromWishlist(id) {
            wishlist = wishlist.filter(item => item.id !== id);
            localStorage.setItem('cryptoWishlist', JSON.stringify(wishlist));
            loadWishlist();
            
            // Reload main page to update buttons
            loadCryptoData();
        }

        // Load wishlist
        function loadWishlist() {
            const wishlistContent = document.getElementById('wishlist-content');
            
            if (wishlist.length === 0) {
                wishlistContent.innerHTML = '<p style="text-align: center; padding: 2rem;">Your wishlist is empty. Add some cryptocurrencies from the home page!</p>';
                return;
            }
            
            let html = '<div class="crypto-table"><div class="table-header"><div>Name</div><div>Price (Added)</div><div>Added Date</div><div>Action</div></div>';
            
            wishlist.forEach(item => {
                const addedDate = new Date(item.addedAt).toLocaleDateString();
                html += `
                    <div class="wishlist-item">
                        <div class="crypto-info">
                            <img src="${item.image}" alt="${item.name}" class="crypto-icon" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTYiIGZpbGw9IiMzMzMiLz4KPHRleHQgeD0iMTYiIHk9IjIwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEyIiBmaWxsPSJ3aGl0ZSI+Pz88L3RleHQ+Cjwvc3ZnPgo='">
                            <div>
                                <div style="font-weight: bold;">${item.name}</div>
                                <div style="font-size: 0.8rem; opacity: 0.7;">${item.symbol.toUpperCase()}</div>
                            </div>
                        </div>
                        <div>${formatPrice(item.price)}</div>
                        <div>${addedDate}</div>
                        <div>
                            <button class="remove-btn" onclick="removeFromWishlist('${item.id}')">Remove</button>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            wishlistContent.innerHTML = html;
        }

        // Load trending data
        async function loadTrendingData() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/search/trending');
                const data = await response.json();
                
                // Get detailed info for trending coins
                const coinIds = data.coins.map(coin => coin.item.id).join(',');
                const detailResponse = await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${coinIds}&order=market_cap_desc&sparkline=false&price_change_percentage=24h`);
                const detailData = await detailResponse.json();
                
                displayTrendingData(detailData);
            } catch (error) {
                document.getElementById('trending-list').innerHTML = '<div class="error">Error loading trending data. Please try again later.</div>';
                console.error('Error fetching trending data:', error);
            }
        }

        // Display trending data
        function displayTrendingData(cryptos) {
            const trendingList = document.getElementById('trending-list');
            
            let html = `
                <div class="table-header">
                    <div>Rank</div>
                    <div>Name</div>
                    <div>Price</div>
                    <div>24h Change</div>
                    <div>Market Cap</div>
                    <div>Volume</div>
                </div>
            `;
            
            cryptos.forEach(crypto => {
                html += createCryptoRow(crypto);
            });
            
            trendingList.innerHTML = html;
        }

        // Show crypto details (placeholder)
        function showCryptoDetails(cryptoId) {
            alert(`Detailed view for ${cryptoId} - Feature coming soon!`);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Hide splash screen after 3 seconds
            setTimeout(() => {
                document.querySelector('.splash-screen').style.display = 'none';
            }, 3000);
            
            // Load initial data
            loadCryptoData();
        });

        // Refresh data every 60 seconds
        setInterval(loadCryptoData, 60000);
    </script>
</body>
</html>